<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="css/global.css">
	<script type="text/javascript">

    var touchStartEvent = 'ontouchstart' in window ? 'touchstart' : 'mousedown',
    	touchMoveEvent  = 'ontouchmove'  in window ? 'touchmove'  : 'mousemove',
    	touchEndEvent   = 'ontouchend'   in window ? 'touchend'   : 'mouseup';


	// window.onload のかわりに、DOMContentLoaded使う
	document.addEventListener("DOMContentLoaded", load, false);

	/*
	** load when DOMContentLoaded
	*/
	function load () {
		var link = document.querySelector('.js-menu-link');
		var view = document.querySelector('.js-menu-view');

		link.addEventListener(touchStartEvent, touchHandler, false);
		link.addEventListener(touchEndEvent, touchHandler, false);

		function touchHandler (ev) {
			//ev.preventDefault();
			switch (ev.type) {
				case touchStartEvent :
					if (view.classList.contains('disabled')) {
						view.classList.remove('disabled');
					}
					break;
				case touchEndEvent :
					if (!view.classList.contains('disabled')) {
						view.classList.add('disabled');
					}
					break;
				default :
					break;
			}
		}
	}
	</script>
</head>
<body>
	<!-- onEvent -->
	<h3>Example 2: On Event</h3>
	<div class="js-menu-box">
		<a href="#" class="js-menu-link">menu</a>

		<div class="js-menu-view disabled">
			Hello World!
		</div>
	</div>
</body>
</html>